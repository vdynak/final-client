{"ast":null,"code":"var _jsxFileName = \"/Users/victoriadynak/Desktop/CSCI_WD/final-client/src/components/containers/EditCampusContainer.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { fetchCampusThunk, editCampusThunk } from '../../store/thunks';\nimport { EditCampusView } from '../views';\nimport { Redirect } from 'react-router-dom';\nimport Header from './Header';\nclass EditCampusContainer extends Component {\n  constructor(props) {\n    super(props);\n    this.validateForm = () => {\n      let isValid = true;\n      const errors = {\n        name: \"\",\n        address: \"\",\n        description: \"\",\n        imageURL: \"\"\n      };\n\n      // Name validation\n      if (!this.state.name.trim()) {\n        errors.name = \"Name is required\";\n        isValid = false;\n      }\n\n      // Address validation\n      if (!this.state.address.trim()) {\n        errors.address = \"Address is required\";\n        isValid = false;\n      }\n\n      // Description validation\n      if (!this.state.description.trim()) {\n        errors.description = \"Description is required\";\n        isValid = false;\n      }\n\n      // Image URL validation\n      if (this.state.imageURL && !this.isValidUrl(this.state.imageURL)) {\n        errors.imageURL = \"Please enter a valid URL\";\n        isValid = false;\n      }\n      this.setState({\n        errors\n      });\n      return isValid;\n    };\n    this.isValidUrl = url => {\n      try {\n        new URL(url);\n        return true;\n      } catch (e) {\n        return false;\n      }\n    };\n    this.handleChange = event => {\n      const {\n        name,\n        value\n      } = event.target;\n      this.setState({\n        [name]: value\n      }, () => {\n        // Real-time validation\n        this.validateForm();\n      });\n    };\n    this.handleSubmit = async event => {\n      event.preventDefault();\n      if (this.validateForm()) {\n        try {\n          await this.props.editCampus({\n            id: this.props.match.params.id,\n            name: this.state.name,\n            address: this.state.address,\n            description: this.state.description,\n            imageURL: this.state.imageURL\n          });\n          this.setState({\n            redirect: true\n          });\n        } catch (err) {\n          console.error(err);\n          this.setState({\n            errors: {\n              ...this.state.errors,\n              submit: \"Failed to update campus. Please try again.\"\n            }\n          });\n        }\n      }\n    };\n    this.state = {\n      name: \"\",\n      address: \"\",\n      description: \"\",\n      imageURL: \"\",\n      errors: {\n        name: \"\",\n        address: \"\",\n        description: \"\",\n        imageURL: \"\"\n      },\n      redirect: false\n    };\n  }\n  componentDidMount() {\n    // Get campus data\n    this.props.fetchCampus(this.props.match.params.id).then(() => {\n      const {\n        campus\n      } = this.props;\n      this.setState({\n        name: campus.name,\n        address: campus.address,\n        description: campus.description,\n        imageURL: campus.imageURL || \"\"\n      });\n    });\n  }\n  render() {\n    if (this.state.redirect) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: `/campus/${this.props.match.params.id}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 14\n        }\n      });\n    }\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(EditCampusView, {\n      handleChange: this.handleChange,\n      handleSubmit: this.handleSubmit,\n      formData: this.state,\n      errors: this.state.errors,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }\n    }));\n  }\n}\nconst mapState = state => ({\n  campus: state.campus\n});\nconst mapDispatch = dispatch => ({\n  fetchCampus: id => dispatch(fetchCampusThunk(id)),\n  editCampus: campus => dispatch(editCampusThunk(campus))\n});\nexport default connect(mapState, mapDispatch)(EditCampusContainer);","map":{"version":3,"names":["React","Component","connect","fetchCampusThunk","editCampusThunk","EditCampusView","Redirect","Header","EditCampusContainer","constructor","props","validateForm","isValid","errors","name","address","description","imageURL","state","trim","isValidUrl","setState","url","URL","e","handleChange","event","value","target","handleSubmit","preventDefault","editCampus","id","match","params","redirect","err","console","error","submit","componentDidMount","fetchCampus","then","campus","render","createElement","to","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","formData","mapState","mapDispatch","dispatch"],"sources":["/Users/victoriadynak/Desktop/CSCI_WD/final-client/src/components/containers/EditCampusContainer.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { fetchCampusThunk, editCampusThunk } from '../../store/thunks';\nimport { EditCampusView } from '../views';\nimport { Redirect } from 'react-router-dom';\nimport Header from './Header';\n\nclass EditCampusContainer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: \"\",\n      address: \"\",\n      description: \"\",\n      imageURL: \"\",\n      errors: {\n        name: \"\",\n        address: \"\",\n        description: \"\",\n        imageURL: \"\"\n      },\n      redirect: false\n    };\n  }\n\n  componentDidMount() {\n    // Get campus data\n    this.props.fetchCampus(this.props.match.params.id).then(() => {\n      const { campus } = this.props;\n      this.setState({\n        name: campus.name,\n        address: campus.address,\n        description: campus.description,\n        imageURL: campus.imageURL || \"\"\n      });\n    });\n  }\n\n  validateForm = () => {\n    let isValid = true;\n    const errors = {\n      name: \"\",\n      address: \"\",\n      description: \"\",\n      imageURL: \"\"\n    };\n\n    // Name validation\n    if (!this.state.name.trim()) {\n      errors.name = \"Name is required\";\n      isValid = false;\n    }\n\n    // Address validation\n    if (!this.state.address.trim()) {\n      errors.address = \"Address is required\";\n      isValid = false;\n    }\n\n    // Description validation\n    if (!this.state.description.trim()) {\n      errors.description = \"Description is required\";\n      isValid = false;\n    }\n\n    // Image URL validation\n    if (this.state.imageURL && !this.isValidUrl(this.state.imageURL)) {\n      errors.imageURL = \"Please enter a valid URL\";\n      isValid = false;\n    }\n\n    this.setState({ errors });\n    return isValid;\n  };\n\n  isValidUrl = (url) => {\n    try {\n      new URL(url);\n      return true;\n    } catch (e) {\n      return false;\n    }\n  };\n\n  handleChange = event => {\n    const { name, value } = event.target;\n    this.setState({\n      [name]: value\n    }, () => {\n      // Real-time validation\n      this.validateForm();\n    });\n  };\n\n  handleSubmit = async event => {\n    event.preventDefault();\n    if (this.validateForm()) {\n      try {\n        await this.props.editCampus({\n          id: this.props.match.params.id,\n          name: this.state.name,\n          address: this.state.address,\n          description: this.state.description,\n          imageURL: this.state.imageURL\n        });\n        this.setState({ redirect: true });\n      } catch (err) {\n        console.error(err);\n        this.setState({\n          errors: {\n            ...this.state.errors,\n            submit: \"Failed to update campus. Please try again.\"\n          }\n        });\n      }\n    }\n  };\n\n  render() {\n    if (this.state.redirect) {\n      return <Redirect to={`/campus/${this.props.match.params.id}`} />;\n    }\n\n    return (\n      <div>\n        <Header />\n        <EditCampusView\n          handleChange={this.handleChange}\n          handleSubmit={this.handleSubmit}\n          formData={this.state}\n          errors={this.state.errors}\n        />\n      </div>\n    );\n  }\n}\n\nconst mapState = (state) => ({\n  campus: state.campus\n});\n\nconst mapDispatch = (dispatch) => ({\n  fetchCampus: (id) => dispatch(fetchCampusThunk(id)),\n  editCampus: (campus) => dispatch(editCampusThunk(campus))\n});\n\nexport default connect(mapState, mapDispatch)(EditCampusContainer);"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}