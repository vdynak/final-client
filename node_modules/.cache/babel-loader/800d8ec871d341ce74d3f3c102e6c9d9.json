{"ast":null,"code":"var _jsxFileName = \"/Users/victoriadynak/Desktop/CSCI_WD/final-client/src/components/containers/NewCampusContainer.js\";\n/*==================================================\n/src/components/containers/NewCampusContainer.js\n\nThe Container component is responsible for stateful logic and data fetching, and\npasses data (if any) as props to the corresponding View component.\nIf needed, it also defines the component's \"connect\" function.\n================================================== */\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { addCampusThunk } from '../../store/thunks';\nimport { NewCampusView } from '../views';\nimport Header from './Header';\nclass NewCampusContainer extends Component {\n  constructor(props) {\n    super(props);\n    this.handleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value,\n        error: \"\"\n      });\n    };\n    this.handleSubmit = async e => {\n      e.preventDefault();\n      this.setState({\n        isSubmitting: true,\n        error: \"\"\n      });\n      try {\n        // Validate required fields\n        if (!this.state.name || !this.state.address) {\n          throw new Error(\"Name and address are required\");\n        }\n        const campusData = {\n          name: this.state.name,\n          address: this.state.address,\n          description: this.state.description || \"\",\n          imageURL: this.state.imageURL || \"https://via.placeholder.com/480x240\"\n        };\n        console.log(\"Submitting campus data:\", campusData); // Debug log\n        await this.props.addCampus(campusData);\n        this.props.history.push('/campuses');\n      } catch (err) {\n        var _err$response, _err$response$data;\n        console.error(\"Error adding campus:\", err);\n        this.setState({\n          error: ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || err.message || \"Failed to add campus\"\n        });\n      } finally {\n        this.setState({\n          isSubmitting: false\n        });\n      }\n    };\n    this.state = {\n      name: \"\",\n      address: \"\",\n      description: \"\",\n      imageURL: \"\",\n      error: \"\",\n      isSubmitting: false\n    };\n  }\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(NewCampusView, {\n      handleChange: this.handleChange,\n      handleSubmit: this.handleSubmit,\n      formData: this.state,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }\n    }));\n  }\n}\nconst mapDispatch = dispatch => ({\n  addCampus: campus => dispatch(addCampusThunk(campus))\n});\nexport default connect(null, mapDispatch)(NewCampusContainer);","map":{"version":3,"names":["React","Component","connect","addCampusThunk","NewCampusView","Header","NewCampusContainer","constructor","props","handleChange","e","setState","target","name","value","error","handleSubmit","preventDefault","isSubmitting","state","address","Error","campusData","description","imageURL","console","log","addCampus","history","push","err","_err$response","_err$response$data","response","data","message","render","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","formData","mapDispatch","dispatch","campus"],"sources":["/Users/victoriadynak/Desktop/CSCI_WD/final-client/src/components/containers/NewCampusContainer.js"],"sourcesContent":["/*==================================================\n/src/components/containers/NewCampusContainer.js\n\nThe Container component is responsible for stateful logic and data fetching, and\npasses data (if any) as props to the corresponding View component.\nIf needed, it also defines the component's \"connect\" function.\n================================================== */\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { addCampusThunk } from '../../store/thunks';\nimport { NewCampusView } from '../views';\nimport Header from './Header';\n\nclass NewCampusContainer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: \"\",\n      address: \"\",\n      description: \"\",\n      imageURL: \"\",\n      error: \"\",\n      isSubmitting: false\n    };\n  }\n\n  handleChange = (e) => {\n    this.setState({\n      [e.target.name]: e.target.value,\n      error: \"\"\n    });\n  };\n\n  handleSubmit = async (e) => {\n    e.preventDefault();\n    this.setState({ isSubmitting: true, error: \"\" });\n\n    try {\n      // Validate required fields\n      if (!this.state.name || !this.state.address) {\n        throw new Error(\"Name and address are required\");\n      }\n\n      const campusData = {\n        name: this.state.name,\n        address: this.state.address,\n        description: this.state.description || \"\",\n        imageURL: this.state.imageURL || \"https://via.placeholder.com/480x240\"\n      };\n\n      console.log(\"Submitting campus data:\", campusData); // Debug log\n      await this.props.addCampus(campusData);\n      this.props.history.push('/campuses');\n    } catch (err) {\n      console.error(\"Error adding campus:\", err);\n      this.setState({\n        error: err.response?.data?.message || err.message || \"Failed to add campus\"\n      });\n    } finally {\n      this.setState({ isSubmitting: false });\n    }\n  };\n\n  render() {\n    return (\n      <div>\n        <Header />\n        <NewCampusView\n          handleChange={this.handleChange}\n          handleSubmit={this.handleSubmit}\n          formData={this.state}\n        />\n      </div>\n    );\n  }\n}\n\nconst mapDispatch = (dispatch) => ({\n  addCampus: (campus) => dispatch(addCampusThunk(campus))\n});\n\nexport default connect(null, mapDispatch)(NewCampusContainer);"],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,OAAO,QAAQ,aAAa;AACrC,SAASC,cAAc,QAAQ,oBAAoB;AACnD,SAASC,aAAa,QAAQ,UAAU;AACxC,OAAOC,MAAM,MAAM,UAAU;AAE7B,MAAMC,kBAAkB,SAASL,SAAS,CAAC;EACzCM,WAAWA,CAACC,KAAK,EAAE;IACjB,KAAK,CAACA,KAAK,CAAC;IAAC,KAWfC,YAAY,GAAIC,CAAC,IAAK;MACpB,IAAI,CAACC,QAAQ,CAAC;QACZ,CAACD,CAAC,CAACE,MAAM,CAACC,IAAI,GAAGH,CAAC,CAACE,MAAM,CAACE,KAAK;QAC/BC,KAAK,EAAE;MACT,CAAC,CAAC;IACJ,CAAC;IAAA,KAEDC,YAAY,GAAG,MAAON,CAAC,IAAK;MAC1BA,CAAC,CAACO,cAAc,CAAC,CAAC;MAClB,IAAI,CAACN,QAAQ,CAAC;QAAEO,YAAY,EAAE,IAAI;QAAEH,KAAK,EAAE;MAAG,CAAC,CAAC;MAEhD,IAAI;QACF;QACA,IAAI,CAAC,IAAI,CAACI,KAAK,CAACN,IAAI,IAAI,CAAC,IAAI,CAACM,KAAK,CAACC,OAAO,EAAE;UAC3C,MAAM,IAAIC,KAAK,CAAC,+BAA+B,CAAC;QAClD;QAEA,MAAMC,UAAU,GAAG;UACjBT,IAAI,EAAE,IAAI,CAACM,KAAK,CAACN,IAAI;UACrBO,OAAO,EAAE,IAAI,CAACD,KAAK,CAACC,OAAO;UAC3BG,WAAW,EAAE,IAAI,CAACJ,KAAK,CAACI,WAAW,IAAI,EAAE;UACzCC,QAAQ,EAAE,IAAI,CAACL,KAAK,CAACK,QAAQ,IAAI;QACnC,CAAC;QAEDC,OAAO,CAACC,GAAG,CAAC,yBAAyB,EAAEJ,UAAU,CAAC,CAAC,CAAC;QACpD,MAAM,IAAI,CAACd,KAAK,CAACmB,SAAS,CAACL,UAAU,CAAC;QACtC,IAAI,CAACd,KAAK,CAACoB,OAAO,CAACC,IAAI,CAAC,WAAW,CAAC;MACtC,CAAC,CAAC,OAAOC,GAAG,EAAE;QAAA,IAAAC,aAAA,EAAAC,kBAAA;QACZP,OAAO,CAACV,KAAK,CAAC,sBAAsB,EAAEe,GAAG,CAAC;QAC1C,IAAI,CAACnB,QAAQ,CAAC;UACZI,KAAK,EAAE,EAAAgB,aAAA,GAAAD,GAAG,CAACG,QAAQ,cAAAF,aAAA,wBAAAC,kBAAA,GAAZD,aAAA,CAAcG,IAAI,cAAAF,kBAAA,uBAAlBA,kBAAA,CAAoBG,OAAO,KAAIL,GAAG,CAACK,OAAO,IAAI;QACvD,CAAC,CAAC;MACJ,CAAC,SAAS;QACR,IAAI,CAACxB,QAAQ,CAAC;UAAEO,YAAY,EAAE;QAAM,CAAC,CAAC;MACxC;IACF,CAAC;IA7CC,IAAI,CAACC,KAAK,GAAG;MACXN,IAAI,EAAE,EAAE;MACRO,OAAO,EAAE,EAAE;MACXG,WAAW,EAAE,EAAE;MACfC,QAAQ,EAAE,EAAE;MACZT,KAAK,EAAE,EAAE;MACTG,YAAY,EAAE;IAChB,CAAC;EACH;EAuCAkB,MAAMA,CAAA,EAAG;IACP,oBACEpC,KAAA,CAAAqC,aAAA;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBACE3C,KAAA,CAAAqC,aAAA,CAAChC,MAAM;MAAAiC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAE,CAAC,eACV3C,KAAA,CAAAqC,aAAA,CAACjC,aAAa;MACZK,YAAY,EAAE,IAAI,CAACA,YAAa;MAChCO,YAAY,EAAE,IAAI,CAACA,YAAa;MAChC4B,QAAQ,EAAE,IAAI,CAACzB,KAAM;MAAAmB,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CACtB,CACE,CAAC;EAEV;AACF;AAEA,MAAME,WAAW,GAAIC,QAAQ,KAAM;EACjCnB,SAAS,EAAGoB,MAAM,IAAKD,QAAQ,CAAC3C,cAAc,CAAC4C,MAAM,CAAC;AACxD,CAAC,CAAC;AAEF,eAAe7C,OAAO,CAAC,IAAI,EAAE2C,WAAW,CAAC,CAACvC,kBAAkB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}