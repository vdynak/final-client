{"ast":null,"code":"var _jsxFileName = \"/Users/victoriadynak/Desktop/CSCI_WD/final-client/src/components/containers/StudentContainer.js\";\n/*==================================================\nStudentContainer.js\n\nThe Container component is responsible for stateful logic and data fetching, and\npasses data (if any) as props to the corresponding View component.\nIf needed, it also defines the component's \"connect\" function.\n================================================== */\nimport Header from './Header';\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { fetchStudentThunk, deleteStudentThunk } from \"../../store/thunks\";\nimport { StudentView } from \"../views\";\nimport { Redirect } from 'react-router-dom';\nclass StudentContainer extends Component {\n  constructor(props) {\n    super(props);\n    // Handle student deletion\n    this.handleDelete = async () => {\n      if (window.confirm('Are you sure you want to delete this student?')) {\n        await this.props.deleteStudent(this.props.student.id);\n        this.setState({\n          redirect: true\n        });\n      }\n    };\n    this.state = {\n      redirect: false\n    };\n  }\n  componentDidMount() {\n    // Getting student ID from url\n    this.props.fetchStudent(this.props.match.params.id);\n  }\n  render() {\n    // Redirect to all students page after deletion\n    if (this.state.redirect) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/students\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 14\n        }\n      });\n    }\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(StudentView, {\n      student: this.props.student,\n      handleDelete: this.handleDelete,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }\n    }));\n  }\n}\n\n// Map state to props\nconst mapState = state => {\n  return {\n    student: state.student\n  };\n};\n\n// Map dispatch to props\nconst mapDispatch = dispatch => {\n  return {\n    fetchStudent: id => dispatch(fetchStudentThunk(id)),\n    deleteStudent: id => dispatch(deleteStudentThunk(id))\n  };\n};\nexport default connect(mapState, mapDispatch)(StudentContainer);","map":{"version":3,"names":["Header","React","Component","connect","fetchStudentThunk","deleteStudentThunk","StudentView","Redirect","StudentContainer","constructor","props","handleDelete","window","confirm","deleteStudent","student","id","setState","redirect","state","componentDidMount","fetchStudent","match","params","render","createElement","to","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","mapState","mapDispatch","dispatch"],"sources":["/Users/victoriadynak/Desktop/CSCI_WD/final-client/src/components/containers/StudentContainer.js"],"sourcesContent":["/*==================================================\nStudentContainer.js\n\nThe Container component is responsible for stateful logic and data fetching, and\npasses data (if any) as props to the corresponding View component.\nIf needed, it also defines the component's \"connect\" function.\n================================================== */\nimport Header from './Header';\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { fetchStudentThunk, deleteStudentThunk } from \"../../store/thunks\";\nimport { StudentView } from \"../views\";\nimport { Redirect } from 'react-router-dom';\n\nclass StudentContainer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      redirect: false\n    };\n  }\n\n  componentDidMount() {\n    // Getting student ID from url\n    this.props.fetchStudent(this.props.match.params.id);\n  }\n\n  // Handle student deletion\n  handleDelete = async () => {\n    if (window.confirm('Are you sure you want to delete this student?')) {\n      await this.props.deleteStudent(this.props.student.id);\n      this.setState({ redirect: true });\n    }\n  }\n\n  render() {\n    // Redirect to all students page after deletion\n    if (this.state.redirect) {\n      return <Redirect to=\"/students\" />;\n    }\n\n    return (\n      <div>\n        <Header />\n        <StudentView \n          student={this.props.student}\n          handleDelete={this.handleDelete}\n        />\n      </div>\n    );\n  }\n}\n\n// Map state to props\nconst mapState = (state) => {\n  return {\n    student: state.student,\n  };\n};\n\n// Map dispatch to props\nconst mapDispatch = (dispatch) => {\n  return {\n    fetchStudent: (id) => dispatch(fetchStudentThunk(id)),\n    deleteStudent: (id) => dispatch(deleteStudentThunk(id))\n  };\n};\n\nexport default connect(mapState, mapDispatch)(StudentContainer);"],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAOA,MAAM,MAAM,UAAU;AAC7B,OAAOC,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,OAAO,QAAQ,aAAa;AACrC,SAASC,iBAAiB,EAAEC,kBAAkB,QAAQ,oBAAoB;AAC1E,SAASC,WAAW,QAAQ,UAAU;AACtC,SAASC,QAAQ,QAAQ,kBAAkB;AAE3C,MAAMC,gBAAgB,SAASN,SAAS,CAAC;EACvCO,WAAWA,CAACC,KAAK,EAAE;IACjB,KAAK,CAACA,KAAK,CAAC;IAWd;IAAA,KACAC,YAAY,GAAG,YAAY;MACzB,IAAIC,MAAM,CAACC,OAAO,CAAC,+CAA+C,CAAC,EAAE;QACnE,MAAM,IAAI,CAACH,KAAK,CAACI,aAAa,CAAC,IAAI,CAACJ,KAAK,CAACK,OAAO,CAACC,EAAE,CAAC;QACrD,IAAI,CAACC,QAAQ,CAAC;UAAEC,QAAQ,EAAE;QAAK,CAAC,CAAC;MACnC;IACF,CAAC;IAhBC,IAAI,CAACC,KAAK,GAAG;MACXD,QAAQ,EAAE;IACZ,CAAC;EACH;EAEAE,iBAAiBA,CAAA,EAAG;IAClB;IACA,IAAI,CAACV,KAAK,CAACW,YAAY,CAAC,IAAI,CAACX,KAAK,CAACY,KAAK,CAACC,MAAM,CAACP,EAAE,CAAC;EACrD;EAUAQ,MAAMA,CAAA,EAAG;IACP;IACA,IAAI,IAAI,CAACL,KAAK,CAACD,QAAQ,EAAE;MACvB,oBAAOjB,KAAA,CAAAwB,aAAA,CAAClB,QAAQ;QAACmB,EAAE,EAAC,WAAW;QAAAC,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,CAAE,CAAC;IACpC;IAEA,oBACE/B,KAAA,CAAAwB,aAAA;MAAAE,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBACE/B,KAAA,CAAAwB,aAAA,CAACzB,MAAM;MAAA2B,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAE,CAAC,eACV/B,KAAA,CAAAwB,aAAA,CAACnB,WAAW;MACVS,OAAO,EAAE,IAAI,CAACL,KAAK,CAACK,OAAQ;MAC5BJ,YAAY,EAAE,IAAI,CAACA,YAAa;MAAAgB,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CACjC,CACE,CAAC;EAEV;AACF;;AAEA;AACA,MAAMC,QAAQ,GAAId,KAAK,IAAK;EAC1B,OAAO;IACLJ,OAAO,EAAEI,KAAK,CAACJ;EACjB,CAAC;AACH,CAAC;;AAED;AACA,MAAMmB,WAAW,GAAIC,QAAQ,IAAK;EAChC,OAAO;IACLd,YAAY,EAAGL,EAAE,IAAKmB,QAAQ,CAAC/B,iBAAiB,CAACY,EAAE,CAAC,CAAC;IACrDF,aAAa,EAAGE,EAAE,IAAKmB,QAAQ,CAAC9B,kBAAkB,CAACW,EAAE,CAAC;EACxD,CAAC;AACH,CAAC;AAED,eAAeb,OAAO,CAAC8B,QAAQ,EAAEC,WAAW,CAAC,CAAC1B,gBAAgB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}